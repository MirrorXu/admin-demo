import{_ as te,a as ae,b as oe,C as ne,A as se,c as de,d as q,e as ue,f as re,g as pe,h as ie,i as me}from"./CompanyVideoList-CIpXhte5.js";import{_ as G,j as U,e as d,o as s,i as c,w as l,f as R,t as I,a as e,c as L,F as T,m as B,z as ce,b as o,k,l as K,r as W,s as P,n as A,q as j,h as _e,T as O,x as fe}from"./index-DsVEjed3.js";const ye={class:"contentBox"},be=["onClick"],ve={class:"btns"},ke={__name:"AdviserEditForm",props:{title:{default:"",type:String},showClose:{default:!1,type:Boolean},closeOnClickModal:{default:!1,type:Boolean},onSuccess:{default:()=>{}}},setup(N,{expose:F}){const w=N,p=U(!1);U([]);let C=[];const h=U(""),z=async()=>{try{await te({companyIdList:C,adviserId:h.value}),k().success("成功"),p.value=!1,w.onSuccess&&w.onSuccess()}catch(x){k().error(x.message||"失败")}};return F({open(x){x&&(C=x),p.value=!0},close(){p.value=!1}}),(x,V)=>{const _=d("el-scrollbar"),g=d("el-button"),u=d("el-drawer");return s(),c(u,{modelValue:p.value,"onUpdate:modelValue":V[1]||(V[1]=f=>p.value=f),direction:"rtl","show-close":N.showClose,"destroy-on-close":!0,closeOnClickModal:N.closeOnClickModal},{header:l(()=>[R("h3",null,I(N.title),1)]),default:l(()=>[R("div",ye,[e(_,null,{default:l(()=>[(s(),L(T,null,B(20,f=>R("div",{class:ce(["adviserBox",{"adviserBox-active":f===h.value}]),key:f,onClick:()=>h.value=f}," 顾问"+I(f),11,be)),64))]),_:1}),R("div",ve,[e(g,{onClick:V[0]||(V[0]=()=>{p.value=!1})},{default:l(()=>V[2]||(V[2]=[o("关闭 ")])),_:1}),e(g,{type:"primary",onClick:z},{default:l(()=>V[3]||(V[3]=[o("设置")])),_:1})])])]),_:1},8,["modelValue","show-close","closeOnClickModal"])}}},Ve=G(ke,[["__scopeId","data-v-134bcbd7"]]),ge={style:{padding:"10px 0",display:"flex","align-items":"center","justify-content":"space-between"}},Ce={__name:"CompanyList",setup(N){const F=K(),w=W({searchType:"1",searchValue:"",status:"",attestation:"",vipStopTime:"",recentlyLogin:"",recentlyRegister:"",vipLevel:"",nature:""}),p=U(),C=U(),h=U(),z=U(),x=()=>{C.value.query()},V=()=>{p.value.resetFields(),w.searchType=""},_=W([{id:"H5",text:"复制H5链接",callback(n){k().error("复制H5链接")}},{id:"PC",text:"复制PC链接",callback(n){k().error("复制PC链接")}},{id:"qrcode",text:"分享二维码"},{id:"vip",text:"暂停会员",callback(n){ae(n.uid).then(()=>{k().success("成功"),C.value.query()}).catch(t=>{k().error((t==null?void 0:t.message)||"失败")})}},{id:"banner",text:"清空海报",callback(n){k().error("清空海报")}}]),g=(n,t)=>{const{callback:y}=_.find(b=>b.id==n);y&&y(t)},u=async()=>{const n=h.value.getSelectionRows();if(n&&n.length===0){k().warning("未选择");return}z.value.open(n.map(t=>t.id))},f=()=>{const n=h.value.getSelectionRows();if(n&&n.length===0){k().warning("未选择");return}k().error("发消息")},S=()=>{k().error("刷新职位")};return(n,t)=>{const y=d("el-option"),b=d("el-select"),$=d("el-input"),i=d("el-form-item"),r=d("el-button"),E=d("el-form"),D=d("el-table-column"),H=d("el-text"),Q=d("DictLabel"),J=d("el-link"),X=d("el-dropdown-item"),Y=d("el-dropdown-menu"),Z=d("el-dropdown"),ee=d("el-table"),le=P("loading");return s(),c(O,{ref_key:"listWrapRef",ref:C,"remote-method":A(oe),query:w},{query:l(({query:m})=>[e(E,{ref_key:"queryForm",ref:p,model:m,inline:""},{default:l(()=>[e(i,{prop:"value"},{default:l(()=>[e($,{placeholder:"请输入",modelValue:m.value,"onUpdate:modelValue":a=>m.value=a,style:{width:"280px"}},{prepend:l(()=>[e(b,{modelValue:m.searchType,"onUpdate:modelValue":a=>m.searchType=a,style:{width:"100px"}},{default:l(()=>[e(y,{label:"企业信息",value:"1"}),e(y,{label:"用户UID",value:"2"}),e(y,{label:"统一社会信用代码",value:"3"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,{label:" ",prop:""},{default:l(()=>[e(b,{modelValue:m.status,"onUpdate:modelValue":a=>m.status=a,placeholder:"是否名企",clearable:"",style:{width:"100px"}},{default:l(()=>[(s(!0),L(T,null,B(A(F).find("isFamousCompany"),a=>(s(),c(y,{key:a.label,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,{label:" ",prop:""},{default:l(()=>[e(b,{modelValue:m.attestation,"onUpdate:modelValue":a=>m.attestation=a,placeholder:"企业认证",clearable:"",style:{width:"100px"}},{default:l(()=>[(s(!0),L(T,null,B(n.$dict_find("company/attestation"),a=>(s(),c(y,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,{label:" ",prop:"vipLevel"},{default:l(()=>[e(b,{modelValue:m.vipLevel,"onUpdate:modelValue":a=>m.vipLevel=a,placeholder:"企业套餐",clearable:"",style:{width:"100px"}},{default:l(()=>[(s(!0),L(T,null,B(n.$dict_find("vipTypes"),a=>(s(),c(y,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,{prop:"vipStopTime"},{default:l(()=>[e(b,{modelValue:m.vipStopTime,"onUpdate:modelValue":a=>m.vipStopTime=a,placeholder:"到期时间",clearable:"",style:{width:"120px"}},{default:l(()=>[(s(!0),L(T,null,B(n.$dict_find("timeStamps"),a=>(s(),c(y,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,{prop:"recentlyLogin"},{default:l(()=>[e(b,{modelValue:m.recentlyLogin,"onUpdate:modelValue":a=>m.recentlyLogin=a,placeholder:"最近登录",clearable:"",style:{width:"120px"}},{default:l(()=>[(s(!0),L(T,null,B(n.$dict_find("timeStamps"),a=>(s(),c(y,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,{prop:"recentlyRegister"},{default:l(()=>[e(b,{modelValue:m.recentlyRegister,"onUpdate:modelValue":a=>m.recentlyRegister=a,placeholder:"最近注册",clearable:"",style:{width:"120px"}},{default:l(()=>[(s(!0),L(T,null,B(A(F).find("timeStamps"),a=>(s(),c(y,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,{label:" ",prop:"nature"},{default:l(()=>[e(b,{modelValue:m.nature,"onUpdate:modelValue":a=>m.nature=a,placeholder:"企业性质",clearable:"",style:{width:"100px"}},{default:l(()=>[(s(!0),L(T,null,B(n.$dict_find("company/nature"),a=>(s(),c(y,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(i,null,{default:l(()=>[e(r,{type:"primary",onClick:x},{default:l(()=>t[1]||(t[1]=[o("查询")])),_:1}),e(r,{onClick:V},{default:l(()=>t[2]||(t[2]=[o("重置")])),_:1})]),_:1})]),_:2},1032,["model"])]),tools:l(()=>[R("div",ge,[R("div",null,[e(r,{type:"primary",onClick:u},{default:l(()=>t[3]||(t[3]=[o("设置顾问")])),_:1}),e(r,{type:"success",onClick:t[0]||(t[0]=()=>C.value.query())},{default:l(()=>t[4]||(t[4]=[o("刷新")])),_:1}),e(r,{type:"warning",onClick:f},{default:l(()=>t[5]||(t[5]=[o("发消息")])),_:1})]),e(r,{icon:"Plus",type:"primary",plain:"",onClick:n.handleAdd},{default:l(()=>t[6]||(t[6]=[o("添加企业")])),_:1},8,["onClick"])])]),default:l(({list:m,loading:a})=>[j((s(),c(ee,{ref_key:"tableRef",ref:h,data:m,style:{height:"100%"}},{default:l(()=>[e(D,{type:"selection",width:"55"}),e(D,{prop:"uid",label:"UID"}),e(D,{label:"公司信息",width:"200"},{default:l(({row:v})=>[e(H,null,{default:l(()=>[o(I(v.title),1)]),_:2},1024),t[7]||(t[7]=R("br",null,null,-1)),e(H,{type:"primary"},{default:l(()=>[o(I(v.mobile),1)]),_:2},1024)]),_:1}),e(D,{prop:"attestation",label:"企业认证"},{default:l(({row:v})=>[e(Q,{"enum-name":"companyAttestation",type:"button",value:v.attestation},null,8,["value"])]),_:1}),e(D,{prop:"nickname",label:"职位数",width:"140"},{default:l(({row:v})=>[t[10]||(t[10]=o(" 9 ")),t[11]||(t[11]=R("br",null,null,-1)),v.attestation==3?(s(),c(J,{key:0,type:"primary"},{default:l(()=>t[8]||(t[8]=[o("添加")])),_:1})):_e("",!0),t[12]||(t[12]=o("   ")),e(J,{type:"primary",onClick:S},{default:l(()=>t[9]||(t[9]=[o("刷新")])),_:1})]),_:1}),e(D,{prop:"",label:"来源"},{default:l(({row:v})=>[e(Q,{"enum-name":"roleType",value:v.idType},null,8,["value"])]),_:1}),e(D,{prop:"vipTitle",label:"会员",width:"180"},{default:l(({row:v})=>[o(I(v.vipTitle)+" ",1),e(r,{type:"primary",size:"small",plain:""},{default:l(()=>t[13]||(t[13]=[o("修改")])),_:1}),t[14]||(t[14]=R("br",null,null,-1)),o(" "+I(v.companyVipTime),1)]),_:1}),e(D,{prop:"",label:"名企",width:"140"},{default:l(({row:v})=>[v.isFamous?(s(),c(r,{key:0,type:"warning",size:"small"},{default:l(()=>[o(I(v.famousTime.split(" ")[0]),1)]),_:2},1024)):(s(),c(r,{key:1,type:"info",size:"small"},{default:l(()=>t[15]||(t[15]=[o("否")])),_:1}))]),_:1}),e(D,{prop:"",label:"创建/更新/刷新时间",width:"180"},{default:l(({row:v})=>[o(I(v.createTime)+" ",1),t[16]||(t[16]=R("br",null,null,-1)),o(" "+I(v.updateTime)+" ",1),t[17]||(t[17]=R("br",null,null,-1)),o(" "+I(v.refreshTime),1)]),_:1}),e(D,{label:"操作",width:"220",align:"center"},{default:l(({row:v})=>[e(r,{onClick:()=>{},type:"success",size:"small"},{default:l(()=>t[18]||(t[18]=[o("业务")])),_:1}),e(r,{onClick:()=>{},type:"danger",size:"small"},{default:l(()=>t[19]||(t[19]=[o("编辑")])),_:1}),e(Z,{trigger:"click",placement:"bottom-end",size:"small",onCommand:M=>g(M,v),style:{"margin-left":"12px",top:"1px"}},{dropdown:l(()=>[e(Y,null,{default:l(()=>[(s(!0),L(T,null,B(_,M=>(s(),c(X,{key:M.id,command:M.id},{default:l(()=>[o(I(M.text),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:l(()=>[e(r,{type:"default",plain:"",size:"small"},{default:l(()=>t[20]||(t[20]=[o("更多")])),_:1})]),_:2},1032,["onCommand"])]),_:1})]),_:2},1032,["data"])),[[le,a]]),e(Ve,{ref_key:"adviserEditRef",ref:z,title:"设置顾问"},null,512)]),_:1},8,["remote-method","query"])}}},we={__name:"CompanyDemeanorList",setup(N){const F=K(),w=W({searchType:"",searchValue:"",status:"",companyId:"",companyName:""}),p=U(),C=U(),h=U(),z=()=>{p.value.query()},x=()=>{C.value.resetFields(),w.searchType=""},V=g=>{const u=g.id?[g]:h.value.getSelectedItems();if(u&&u.length===0){k().warning("未选择");return}q({businessIdList:u.map(f=>f.id),auditStatus:1}).then(()=>{k().success("成功")}).catch(()=>{k().error("失败")}).finally(()=>{p.value.query()})},_=g=>{let u=g.id?[g]:h.value.getSelectedItems();if(u&&u.length===0)return k().warning("未选择");fe().prompt({inputPlaceholder:"请输入拒绝原因",title:"拒绝",showCancelButton:!0,showClose:!0}).then(f=>{const{value:S}=f;q({businessIdList:u.map(n=>n.id),auditStatus:2,msg:S}).then(()=>{k().success("成功"),p.value.query()}).catch(()=>{k().error("失败")})})};return(g,u)=>{const f=d("el-input"),S=d("el-form-item"),n=d("el-option"),t=d("el-select"),y=d("el-button"),b=d("el-form"),$=P("loading");return s(),c(O,{ref_key:"listWrapRef",ref:p,"remote-method":A(de),query:w},{query:l(({query:i})=>[e(b,{ref_key:"queryForm",ref:C,model:i,inline:""},{default:l(()=>[e(S,{label:"公司ID",prop:"companyId"},{default:l(()=>[e(f,{modelValue:i.companyId,"onUpdate:modelValue":r=>i.companyId=r,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(S,{label:"公司名",prop:"companyName"},{default:l(()=>[e(f,{modelValue:i.companyName,"onUpdate:modelValue":r=>i.companyName=r,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(S,{label:"状态",prop:"status"},{default:l(()=>[e(t,{modelValue:i.status,"onUpdate:modelValue":r=>i.status=r,placeholder:"请选择",clearable:"",style:{width:"100px"}},{default:l(()=>[(s(!0),L(T,null,B(A(F).find("auditStatus"),r=>(s(),c(n,{key:r.label,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(S,null,{default:l(()=>[e(y,{type:"primary",onClick:z},{default:l(()=>u[0]||(u[0]=[o("查询")])),_:1}),e(y,{onClick:x},{default:l(()=>u[1]||(u[1]=[o("重置")])),_:1})]),_:1}),e(S,null,{default:l(()=>[e(y,{type:"success",onClick:V},{default:l(()=>u[2]||(u[2]=[o("批量通过")])),_:1}),e(y,{type:"danger",onClick:_},{default:l(()=>u[3]||(u[3]=[o("批量拒绝")])),_:1})]),_:1})]),_:2},1032,["model"])]),default:l(({list:i,loading:r})=>[j((s(),c(ne,{ref_key:"checkedListRef",ref:h,items:i},{default:l(()=>[(s(!0),L(T,null,B(i,E=>(s(),c(se,{key:E.id,data:E,onResolve:V,onReject:_},null,8,["data"]))),128)),u[4]||(u[4]=R("div",{style:{"flex-grow":"1",height:"0"}},null,-1))]),_:2},1032,["items"])),[[$,r]])]),_:1},8,["remote-method","query"])}}},he={__name:"ComponyBlackList",setup(N){const F=W({companyId:"",companyName:""}),w=U(),p=U(),C=U(),h=()=>{w.value.query()},z=()=>{p.value.resetFields()},x=V=>{const _=V.uid?[V]:C.value.getSelectionRows();if(_&&_.length===0){k().warning("未选择");return}re({businessIdList:_.map(g=>g.id),auditStatus:1}).then(()=>{k().success("成功")}).catch(()=>{k().error("失败")}).finally(()=>{w.value.query()})};return(V,_)=>{const g=d("el-input"),u=d("el-form-item"),f=d("el-button"),S=d("el-form"),n=d("el-table-column"),t=d("el-table"),y=P("loading");return s(),c(O,{ref_key:"listWrapRef",ref:w,"remote-method":A(ue),query:F},{query:l(({query:b})=>[e(S,{ref_key:"queryForm",ref:p,model:b,inline:""},{default:l(()=>[e(u,{label:"公司ID",prop:"companyId"},{default:l(()=>[e(g,{modelValue:b.companyId,"onUpdate:modelValue":$=>b.companyId=$,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,{label:"公司名",prop:"companyName"},{default:l(()=>[e(g,{modelValue:b.companyId,"onUpdate:modelValue":$=>b.companyId=$,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(u,null,{default:l(()=>[e(f,{type:"primary",onClick:h},{default:l(()=>_[0]||(_[0]=[o("查询")])),_:1}),e(f,{onClick:z},{default:l(()=>_[1]||(_[1]=[o("重置")])),_:1})]),_:1}),e(u,null,{default:l(()=>[e(f,{onClick:x,type:"danger"},{default:l(()=>_[2]||(_[2]=[o("删除")])),_:1})]),_:1})]),_:2},1032,["model"])]),default:l(({list:b,loading:$})=>[j((s(),c(t,{ref_key:"tableRef",ref:C,data:b,style:{height:"100%"}},{default:l(()=>[e(n,{type:"selection"}),e(n,{label:"企业UID",prop:"uid"}),e(n,{label:"企业名称",prop:"companyName"}),e(n,{label:"被拉黑UID",prop:"toUid"}),e(n,{label:"被拉黑名称",prop:"userName"}),e(n,{label:"被拉黑时间",prop:"createTime"}),e(n,{label:"操作"},{default:l(({row:i})=>[e(f,{onClick:r=>x(i),type:"success",size:"small"},{default:l(()=>_[3]||(_[3]=[o("释放")])),_:2},1032,["onClick"])]),_:1})]),_:2},1032,["data"])),[[y,$]])]),_:1},8,["remote-method","query"])}}},Ue={__name:"CompanyList",setup(N){return(F,w)=>{const p=d("el-tab-pane"),C=d("el-tabs");return s(),c(C,{type:"border-card",class:"tabsBox"},{default:l(()=>[e(p,{label:"企业列表"},{default:l(()=>[e(Ce)]),_:1}),e(p,{label:"企业认证"},{default:l(()=>[e(pe)]),_:1}),e(p,{label:"企业Logo"},{default:l(()=>[e(ie)]),_:1}),e(p,{label:"企业视频"},{default:l(()=>[e(me)]),_:1}),e(p,{label:"企业风采"},{default:l(()=>[e(we)]),_:1}),e(p,{label:"黑名单"},{default:l(()=>[e(he)]),_:1})]),_:1})}}},Se=G(Ue,[["__scopeId","data-v-d53235af"]]);export{Se as default};
