import{y as L,l as K,r as E,j as $,e as c,s as z,o as p,i as V,w as t,a as e,c as N,F as T,m as F,n as j,b as m,q as W,f as k,t as D,p as Z,h as P,T as M,k as y,x as O,_ as ee,A as oe,B as Q,C as ne,g as G,D as ue,E as de}from"./index-DsVEjed3.js";const Se=s=>L.get("/system/company",{params:s}),we=s=>L.get(`/system/company/stopCompanyVip/${s}`),Ie=s=>L.post("/system/company/setCompanyAdviser",s),ce=s=>L.get("/system/userRealName/companyCertifiedList",{params:s}),J=s=>L.post("/system/userRealName/realName/audit",s),re=s=>L.get("/system/company/getCompanyLogo",{params:s}),X=s=>L.post("/system/company/companyLogo/audit",s),xe=s=>L.get("/system/company/getCompanyBlackList",{params:s}),Ue=s=>L.post("/system/company/companyBlack/release",s),ie=s=>L.get("/system/company/getCompanyVideo",{params:s}),Y=s=>L.post("/system/company/companyVideo/audit",s),$e=s=>L.get("/system/company/getCompanyDemeanor",{params:s}),Ne=s=>L.post("/system/company/companyDemeanor/audit",s),me={style:{display:"flex","align-items":"center","margin-bottom":"10px"}},pe={style:{"margin-left":"4px"}},Ae={__name:"CompanyCertifiedList",setup(s){const S=K(),_=E({searchType:"",searchValue:"",status:0}),u=$(),g=$(),f=$(),I=()=>{g.value.query()},b=()=>{u.value.resetFields(),_.searchType=""},R=l=>{let a=new Array(5);for(let o=1;o<=5;o++)l[`img${o}`]&&(a[o-1]=l[`img${o}`]);return a.filter(o=>o)},i=l=>{const a=l.uid?[l]:f.value.getSelectionRows();if(a&&a.length===0){y().warning("未选择");return}J({businessIdList:a.map(o=>o.id),auditStatus:1}).then(()=>{y().success("成功"),g.value.query()}).catch(()=>{y().error("失败")})},d=async(l,a)=>{let o=l.uid?[l]:f.value.getSelectionRows();if(o&&o.length===0)return y().warning("未选择");try{let h="";a||(h=(await O().prompt({inputPlaceholder:"请输入拒绝原因",title:"拒绝",showCancelButton:!0,showClose:!0})).value),await J({businessIdList:o.map(A=>A.id),auditStatus:2,msg:h}),y().success("成功"),g.value.query()}catch(h){y().error((h==null?void 0:h.message)||"失败")}};return(l,a)=>{const o=c("el-option"),h=c("el-select"),A=c("el-input"),C=c("el-form-item"),w=c("el-button"),q=c("el-form"),n=c("el-table-column"),r=c("el-avatar"),B=c("el-table"),ae=z("image-preview"),se=z("loading");return p(),V(M,{ref_key:"listWrapRef",ref:g,"remote-method":j(ce),query:_},{query:t(({query:U})=>[e(q,{ref_key:"queryForm",ref:u,model:U,inline:""},{default:t(()=>[e(C,{prop:"value"},{default:t(()=>[e(A,{placeholder:"请输入",modelValue:U.value,"onUpdate:modelValue":x=>U.value=x},{prepend:t(()=>[e(h,{modelValue:U.searchType,"onUpdate:modelValue":x=>U.searchType=x,style:{width:"100px"}},{default:t(()=>[e(o,{label:"UID",value:"1"}),e(o,{label:"身份证或统一社会信用代码",value:"2"}),e(o,{label:"名称",value:"3"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(C,{label:"状态",prop:"status"},{default:t(()=>[e(h,{modelValue:U.status,"onUpdate:modelValue":x=>U.status=x,placeholder:"请选择",clearable:"",style:{width:"100px"}},{default:t(()=>[(p(!0),N(T,null,F(j(S).find("auditStatus"),x=>(p(),V(o,{key:x.label,label:x.label,value:x.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(C,null,{default:t(()=>[e(w,{type:"primary",onClick:I},{default:t(()=>a[0]||(a[0]=[m("查询")])),_:1}),e(w,{onClick:b},{default:t(()=>a[1]||(a[1]=[m("重置")])),_:1})]),_:1}),e(C,null,{default:t(()=>[e(w,{type:"success",onClick:i},{default:t(()=>a[2]||(a[2]=[m("批量通过")])),_:1}),e(w,{type:"danger",onClick:d},{default:t(()=>a[3]||(a[3]=[m("批量拒绝")])),_:1})]),_:1})]),_:2},1032,["model"])]),default:t(({list:U,loading:x})=>[W((p(),V(B,{ref_key:"tableRef",ref:f,data:U,style:{height:"100%"}},{default:t(()=>[e(n,{type:"selection",width:"55"}),e(n,{prop:"uid",label:"UID"}),e(n,{label:"用户",width:"200"},{default:t(({row:v})=>[k("div",me,[e(r,{size:"small",src:v.headimg},{default:t(()=>a[4]||(a[4]=[k("img",{src:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"},null,-1)])),_:2},1032,["src"]),k("span",pe,D(v.userNickName),1)])]),_:1}),e(n,{prop:"roleType",label:"身份类型",width:"120"},{default:t(()=>a[5]||(a[5]=[m(" 企业 ")])),_:1}),e(n,{prop:"name",label:"名称"}),e(n,{prop:"idNumber",label:"身份证或统一社会信用代码"}),e(n,{label:"图片"},{default:t(({row:v})=>[W((p(),V(w,{size:"small",type:"info",plain:""},{default:t(()=>[m("查看("+D(R(v).length)+") ",1)]),_:2},1024)),[[ae,{urlList:R(v)}]])]),_:1}),e(n,{label:"状态"},{default:t(({row:v})=>[e(Z,{"enum-name":"auditStatus",type:"button",value:v.status},null,8,["value"])]),_:1}),e(n,{prop:"",label:"创建/更新时间",width:"180"},{default:t(({row:v})=>[m(D(v.createTime)+" ",1),a[6]||(a[6]=k("br",null,null,-1)),m(" "+D(v.updateTime),1)]),_:1}),e(n,{label:"操作"},{default:t(({row:v})=>[v.status==1?(p(),V(w,{key:0,onClick:H=>d(v,!0)},{default:t(()=>a[7]||(a[7]=[m("取消实名")])),_:2},1032,["onClick"])):P("",!0),v.status==0?(p(),N(T,{key:1},[e(w,{onClick:H=>i(v),type:"success",size:"small"},{default:t(()=>a[8]||(a[8]=[m("通过")])),_:2},1032,["onClick"]),e(w,{onClick:H=>d(v),type:"danger",size:"small"},{default:t(()=>a[9]||(a[9]=[m("拒绝")])),_:2},1032,["onClick"])],64)):P("",!0)]),_:1})]),_:2},1032,["data"])),[[se,x]])]),_:1},8,["remote-method","query"])}}},_e={class:"checklist"},fe={class:"checklist-header"},ye={class:"checklist-items"},ge={__name:"CheckList",props:{items:{type:Array,default:()=>[]},modelValue:{type:Array,default:()=>[]}},setup(s,{expose:S}){const _=s;oe(()=>_.items.map(i=>i.id),()=>{u.clear()});const u=E(new Set(_.modelValue)),g=Q({get:()=>u.size===_.items.length&&_.items.length>0,set:i=>I(i)}),f=Q(()=>u.size>0&&u.size<_.items.length),I=i=>{i?_.items.forEach(d=>u.add(d)):u.clear()},b=(i,d)=>{d?u.add(i):u.delete(i)},R=i=>u.has(i);return ne("checklist",{selectedValues:u,toggleSelection:b,isChecked:R}),S({getSelectedItems(){return Array.from(u)}}),(i,d)=>{const l=c("el-checkbox"),a=c("el-scrollbar");return p(),N("div",_e,[k("div",fe,[e(l,{modelValue:g.value,"onUpdate:modelValue":d[0]||(d[0]=o=>g.value=o),indeterminate:f.value,onChange:I},{default:t(()=>d[1]||(d[1]=[m(" 全选 ")])),_:1},8,["modelValue","indeterminate"])]),e(a,null,{default:t(()=>[k("div",ye,[G(i.$slots,"default",{items:s.items,selected:u,toggleSelection:b,isChecked:R},void 0,!0)])]),_:3})])}}},te=ee(ge,[["__scopeId","data-v-08ccbfc2"]]),he={__name:"CheckItem",props:{value:{type:[String,Number,Object],required:!0}},setup(s){const S=s,_=ue("checklist"),u=Q(()=>_.isChecked(S.value)),g=f=>{_.toggleSelection(S.value,f)};return(f,I)=>{const b=c("el-checkbox");return p(),V(b,{"model-value":u.value,onChange:g},{default:t(()=>[G(f.$slots,"default")]),_:3},8,["model-value"])}}},ve={class:"wrap"},be={class:"card"},Ce={class:"image-slot"},ke={class:"tips"},Ve={class:"buttons"},Re={__name:"AuditCard",props:{data:{type:Object,default:()=>({})},sourceKey:{type:String,default:"path"}},emits:["resolve","reject"],setup(s,{emit:S}){const _=s,u=S,g=()=>{u("resolve",_.data)},f=()=>{u("reject",_.data)};return(I,b)=>{const R=c("el-icon"),i=c("el-image"),d=c("el-text"),l=c("el-button");return p(),N("div",ve,[k("div",be,[e(he,{class:"checkBox",value:s.data},null,8,["value"]),e(Z,{class:"statusBox",value:s.data.status,"enum-name":"auditStatus",type:"tag",size:"large"},null,8,["value"]),e(i,{class:"image",src:s.data[s.sourceKey],fit:"contain"},{error:t(()=>[k("div",Ce,[e(R,null,{default:t(()=>[e(j(de))]),_:1})])]),_:1},8,["src"]),k("div",ke,[k("p",null,[e(d,{truncated:""},{default:t(()=>[m("UID: "+D(s.data.uid||"未知"),1)]),_:1})]),k("p",null,[e(d,{truncated:""},{default:t(()=>[m(D(s.data.title||"未知"),1)]),_:1})])])]),G(I.$slots,"buttons",{data:s.data},()=>[k("div",Ve,[s.data.status==0?(p(),N(T,{key:0},[e(l,{type:"success",size:"small",plain:"",onClick:g},{default:t(()=>b[0]||(b[0]=[m("通过")])),_:1}),e(l,{type:"danger",size:"small",plain:"",onClick:f},{default:t(()=>b[1]||(b[1]=[m("拒绝")])),_:1})],64)):P("",!0)])],!0)])}}},le=ee(Re,[["__scopeId","data-v-0cc0f9df"]]),Be={__name:"CompanyLogoList",setup(s){const S=K(),_=E({searchType:"",searchValue:"",status:"",companyId:"",companyName:""}),u=$(),g=$(),f=$(),I=()=>{u.value.query()},b=()=>{g.value.resetFields(),_.searchType=""},R=d=>{const l=d.id?[d]:f.value.getSelectedItems();if(l&&l.length===0){y().warning("未选择");return}X({businessIdList:l.map(a=>a.id),auditStatus:1}).then(()=>{y().success("成功")}).catch(()=>{y().error("失败")}).finally(()=>{u.value.query()})},i=d=>{let l=d.id?[d]:f.value.getSelectedItems();if(l&&l.length===0)return y().warning("未选择");O().prompt({inputPlaceholder:"请输入拒绝原因",title:"拒绝",showCancelButton:!0,showClose:!0}).then(a=>{const{value:o}=a;X({businessIdList:l.map(h=>h.id),auditStatus:2,msg:o}).then(()=>{y().success("成功"),u.value.query()}).catch(()=>{y().error("失败")})})};return(d,l)=>{const a=c("el-input"),o=c("el-form-item"),h=c("el-option"),A=c("el-select"),C=c("el-button"),w=c("el-form"),q=z("loading");return p(),V(M,{ref_key:"listWrapRef",ref:u,"remote-method":j(re),query:_},{query:t(({query:n})=>[e(w,{ref_key:"queryForm",ref:g,model:n,inline:""},{default:t(()=>[e(o,{label:"公司ID",prop:"companyId"},{default:t(()=>[e(a,{modelValue:n.companyId,"onUpdate:modelValue":r=>n.companyId=r,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{label:"公司名",prop:"companyName"},{default:t(()=>[e(a,{modelValue:n.companyName,"onUpdate:modelValue":r=>n.companyName=r,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{label:"状态",prop:"status"},{default:t(()=>[e(A,{modelValue:n.status,"onUpdate:modelValue":r=>n.status=r,placeholder:"请选择",clearable:"",style:{width:"100px"}},{default:t(()=>[(p(!0),N(T,null,F(j(S).find("auditStatus"),r=>(p(),V(h,{key:r.label,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,null,{default:t(()=>[e(C,{type:"primary",onClick:I},{default:t(()=>l[0]||(l[0]=[m("查询")])),_:1}),e(C,{onClick:b},{default:t(()=>l[1]||(l[1]=[m("重置")])),_:1})]),_:1}),e(o,null,{default:t(()=>[e(C,{type:"success",onClick:R},{default:t(()=>l[2]||(l[2]=[m("批量通过")])),_:1}),e(C,{type:"danger",onClick:i},{default:t(()=>l[3]||(l[3]=[m("批量拒绝")])),_:1})]),_:1})]),_:2},1032,["model"])]),default:t(({list:n,loading:r})=>[W((p(),V(te,{ref_key:"checkedListRef",ref:f,items:n},{default:t(()=>[(p(!0),N(T,null,F(n,B=>(p(),V(le,{key:B.id,data:B,onResolve:R,onReject:i},null,8,["data"]))),128)),l[4]||(l[4]=k("div",{style:{"flex-grow":"1",height:"0"}},null,-1))]),_:2},1032,["items"])),[[q,r]])]),_:1},8,["remote-method","query"])}}},Te={__name:"CompanyVideoList",setup(s){const S=K(),_=E({searchType:"",searchValue:"",status:"",companyId:"",companyName:""}),u=$(),g=$(),f=$(),I=()=>{u.value.query()},b=()=>{g.value.resetFields(),_.searchType=""},R=d=>{const l=d.id?[d]:f.value.getSelectedItems();if(l&&l.length===0){y().warning("未选择");return}Y({businessIdList:l.map(a=>a.id),auditStatus:1}).then(()=>{y().success("成功")}).catch(()=>{y().error("失败")}).finally(()=>{u.value.query()})},i=d=>{let l=d.id?[d]:f.value.getSelectedItems();if(l&&l.length===0)return y().warning("未选择");O().prompt({inputPlaceholder:"请输入拒绝原因",title:"拒绝",showCancelButton:!0,showClose:!0}).then(a=>{const{value:o}=a;Y({businessIdList:l.map(h=>h.id),auditStatus:2,msg:o}).then(()=>{y().success("成功"),u.value.query()}).catch(()=>{y().error("失败")})})};return(d,l)=>{const a=c("el-input"),o=c("el-form-item"),h=c("el-option"),A=c("el-select"),C=c("el-button"),w=c("el-form"),q=z("loading");return p(),V(M,{ref_key:"listWrapRef",ref:u,"remote-method":j(ie),query:_},{query:t(({query:n})=>[e(w,{ref_key:"queryForm",ref:g,model:n,inline:""},{default:t(()=>[e(o,{label:"公司ID",prop:"companyId"},{default:t(()=>[e(a,{modelValue:n.companyId,"onUpdate:modelValue":r=>n.companyId=r,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{label:"公司名",prop:"companyName"},{default:t(()=>[e(a,{modelValue:n.companyName,"onUpdate:modelValue":r=>n.companyName=r,placeholder:"请输入",clearable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{label:"状态",prop:"status"},{default:t(()=>[e(A,{modelValue:n.status,"onUpdate:modelValue":r=>n.status=r,placeholder:"请选择",clearable:"",style:{width:"100px"}},{default:t(()=>[(p(!0),N(T,null,F(j(S).find("auditStatus"),r=>(p(),V(h,{key:r.label,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,null,{default:t(()=>[e(C,{type:"primary",onClick:I},{default:t(()=>l[0]||(l[0]=[m("查询")])),_:1}),e(C,{onClick:b},{default:t(()=>l[1]||(l[1]=[m("重置")])),_:1})]),_:1}),e(o,null,{default:t(()=>[e(C,{type:"success",onClick:R},{default:t(()=>l[2]||(l[2]=[m("批量通过")])),_:1}),e(C,{type:"danger",onClick:i},{default:t(()=>l[3]||(l[3]=[m("批量拒绝")])),_:1})]),_:1})]),_:2},1032,["model"])]),default:t(({list:n,loading:r})=>[W((p(),V(te,{ref_key:"checkedListRef",ref:f,items:n},{default:t(()=>[(p(!0),N(T,null,F(n,B=>(p(),V(le,{key:B.id,data:B,onResolve:R,onReject:i},null,8,["data"]))),128)),l[4]||(l[4]=k("div",{style:{"flex-grow":"1",height:"0"}},null,-1))]),_:2},1032,["items"])),[[q,r]])]),_:1},8,["remote-method","query"])}}};export{le as A,te as C,Ie as _,we as a,Se as b,$e as c,Ne as d,xe as e,Ue as f,Ae as g,Be as h,Te as i};
