import{y as W,l as q,r as j,j as D,k as C,e as d,s as ee,o as s,i as c,w as l,a as e,c as g,F as V,m as k,n as $,b as n,f as r,q as le,t as b,_ as te}from"./index-DsVEjed3.js";import{g as ae,h as ne,i as oe}from"./CompanyVideoList-CIpXhte5.js";const ue=L=>W.get("/system/jobs",{params:L}),de=L=>W.post("/system/jobs/batchDisplay",L),se={style:{padding:"10px 0",display:"flex","align-items":"center","justify-content":"space-between"}},pe={style:{display:"flex","align-items":"center"}},ie={style:{"margin-left":"4px"}},re={__name:"JobList",setup(L){const S=q(),R=j({searchType:"1",searchValue:"",status:"",attestation:"",vipStopTime:"",recentlyLogin:"",recentlyRegister:"",vipLevel:"",nature:""}),w=D(),y=D(),B=D(),H=()=>{y.value.query()},J=()=>{w.value.resetFields(),R.searchType=""},F=j([{id:"H5",text:"复制H5链接",callback(m){C().error("复制H5链接")}},{id:"PC",text:"复制PC链接",callback(m){C().error("复制PC链接")}},{id:"qrcode",text:"分享二维码"},{id:"banner",text:"清空海报",callback(m){C().error("清空海报")}}]),P=(m,t)=>{const{callback:p}=F.find(f=>f.id==m);p&&p(t)},I=(m,t=1)=>{const p=m.id?[m]:B.value.getSelectionRows();if(p&&p.length===0){C().warning("未选择");return}de({businessIdList:p.map(f=>f.id),auditStatus:t}).then(()=>{C().success("成功"),y.value.query()}).catch(()=>{C().error("失败")})};return(m,t)=>{const p=d("el-option"),f=d("el-select"),E=d("el-input"),_=d("el-form-item"),i=d("el-button"),N=d("el-form"),M=d("el-input-number"),Q=d("el-checkbox"),A=d("el-popover"),v=d("el-table-column"),z=d("el-text"),G=d("el-tag"),U=d("el-link"),T=d("DictLabel"),K=d("el-dropdown-item"),O=d("el-dropdown-menu"),X=d("el-dropdown"),Y=d("el-table"),Z=d("ListWrap"),h=ee("loading");return s(),c(Z,{ref_key:"listWrapRef",ref:y,"remote-method":$(ue),query:R},{query:l(({query:u})=>[e(N,{ref_key:"queryForm",ref:w,model:u,inline:""},{default:l(()=>[e(_,{prop:"value"},{default:l(()=>[e(E,{placeholder:"请输入",modelValue:u.value,"onUpdate:modelValue":a=>u.value=a,style:{width:"280px"}},{prepend:l(()=>[e(f,{modelValue:u.searchType,"onUpdate:modelValue":a=>u.searchType=a,style:{width:"100px"}},{default:l(()=>[e(p,{label:"企业信息",value:"1"}),e(p,{label:"用户UID",value:"2"}),e(p,{label:"统一社会信用代码",value:"3"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(_,{label:" ",prop:""},{default:l(()=>[e(f,{modelValue:u.status,"onUpdate:modelValue":a=>u.status=a,placeholder:"是否名企",clearable:"",style:{width:"100px"}},{default:l(()=>[(s(!0),g(V,null,k($(S).find("isFamousCompany"),a=>(s(),c(p,{key:a.label,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(_,{label:" ",prop:""},{default:l(()=>[e(f,{modelValue:u.attestation,"onUpdate:modelValue":a=>u.attestation=a,placeholder:"企业认证",clearable:"",style:{width:"100px"}},{default:l(()=>[(s(!0),g(V,null,k(m.$dict_find("company/attestation"),a=>(s(),c(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(_,{label:" ",prop:"vipLevel"},{default:l(()=>[e(f,{modelValue:u.vipLevel,"onUpdate:modelValue":a=>u.vipLevel=a,placeholder:"企业套餐",clearable:"",style:{width:"100px"}},{default:l(()=>[(s(!0),g(V,null,k(m.$dict_find("vipTypes"),a=>(s(),c(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(_,{prop:"vipStopTime"},{default:l(()=>[e(f,{modelValue:u.vipStopTime,"onUpdate:modelValue":a=>u.vipStopTime=a,placeholder:"到期时间",clearable:"",style:{width:"120px"}},{default:l(()=>[(s(!0),g(V,null,k(m.$dict_find("timeStamps"),a=>(s(),c(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(_,{prop:"recentlyLogin"},{default:l(()=>[e(f,{modelValue:u.recentlyLogin,"onUpdate:modelValue":a=>u.recentlyLogin=a,placeholder:"最近登录",clearable:"",style:{width:"120px"}},{default:l(()=>[(s(!0),g(V,null,k(m.$dict_find("timeStamps"),a=>(s(),c(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(_,{prop:"recentlyRegister"},{default:l(()=>[e(f,{modelValue:u.recentlyRegister,"onUpdate:modelValue":a=>u.recentlyRegister=a,placeholder:"最近注册",clearable:"",style:{width:"120px"}},{default:l(()=>[(s(!0),g(V,null,k($(S).find("timeStamps"),a=>(s(),c(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(_,{label:" ",prop:"nature"},{default:l(()=>[e(f,{modelValue:u.nature,"onUpdate:modelValue":a=>u.nature=a,placeholder:"企业性质",clearable:"",style:{width:"100px"}},{default:l(()=>[(s(!0),g(V,null,k(m.$dict_find("company/nature"),a=>(s(),c(p,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(_,null,{default:l(()=>[e(i,{type:"primary",onClick:H},{default:l(()=>t[4]||(t[4]=[n("查询")])),_:1}),e(i,{onClick:J},{default:l(()=>t[5]||(t[5]=[n("重置")])),_:1})]),_:1})]),_:2},1032,["model"])]),tools:l(()=>[r("div",se,[r("div",null,[e(i,{type:"success",onClick:t[0]||(t[0]=()=>y.value.query())},{default:l(()=>t[6]||(t[6]=[n("刷新")])),_:1}),e(i,{type:"success",onClick:t[1]||(t[1]=()=>y.value.query())},{default:l(()=>t[7]||(t[7]=[n("批量审核")])),_:1}),e(i,{type:"success",onClick:I},{default:l(()=>t[8]||(t[8]=[n("批量展示")])),_:1}),e(A,{placement:"right",width:400,trigger:"click"},{reference:l(()=>[e(i,{type:"success"},{default:l(()=>t[9]||(t[9]=[n("批量置顶")])),_:1})]),default:l(()=>[r("div",null,[t[14]||(t[14]=r("h3",null,"置顶职位",-1)),e(N,{"label-position":"right","label-width":"auto"},{default:l(()=>[e(_,{label:"置顶天数"},{default:l(()=>[e(M,{min:1,max:100,size:"large","controls-position":"right"})]),_:1}),e(_,{label:"累加"},{default:l(()=>[e(Q,null,{default:l(()=>t[10]||(t[10]=[n("开启")])),_:1})]),_:1}),t[13]||(t[13]=r("div",null,"0、为取消置顶，n>0、置顶n天开启累加之后如若当前置顶时间未到期，则追加天数",-1)),e(_,null,{default:l(()=>[e(i,null,{default:l(()=>t[11]||(t[11]=[n("取消置顶")])),_:1}),e(i,null,{default:l(()=>t[12]||(t[12]=[n("置顶天数")])),_:1})]),_:1})]),_:1})])]),_:1}),e(i,{type:"success",onClick:t[2]||(t[2]=()=>y.value.query())},{default:l(()=>t[15]||(t[15]=[n("批量推荐")])),_:1}),e(i,{type:"success",onClick:t[3]||(t[3]=()=>y.value.query())},{default:l(()=>t[16]||(t[16]=[n("紧急招聘")])),_:1})]),t[17]||(t[17]=r("div",null,null,-1))])]),default:l(({list:u,loading:a})=>[le((s(),c(Y,{ref_key:"tableRef",ref:B,data:u,style:{height:"100%"}},{default:l(()=>[e(v,{type:"selection",width:"55"}),e(v,{prop:"id",label:"ID"}),e(v,{label:"职位名称",width:"160"},{default:l(({row:o})=>[e(z,{type:"primary",truncated:""},{default:l(()=>[n(b(o.title),1)]),_:2},1024)]),_:1}),e(v,{label:"发布企业",width:"180"},{default:l(({row:o})=>[r("div",pe,[r("div",null,[e(z,{"line-clamp":"2"},{default:l(()=>[n(b(o.companyName),1)]),_:2},1024)]),r("div",ie,[e(G,{type:"success"},{default:l(()=>t[18]||(t[18]=[n("已认证")])),_:1})])]),e(z,{size:"small"},{default:l(()=>[n(b(o.contacts)+":"+b(o.contactsMobile),1)]),_:2},1024)]),_:1}),e(v,{label:"简历",width:"180"},{default:l(({row:o})=>[e(U,null,{default:l(()=>[n("已投递 : "+b(o.deliveryResume),1)]),_:2},1024),t[19]||(t[19]=r("br",null,null,-1)),e(U,null,{default:l(()=>[n("未查看 : "+b(o.deliveryResumeNot),1)]),_:2},1024),t[20]||(t[20]=r("br",null,null,-1)),e(U,null,{default:l(()=>[n("已面试 : "+b(o.interviewed),1)]),_:2},1024)]),_:1}),e(v,{prop:"",label:"套餐",width:"180"},{default:l(({row:o})=>[e(T,{"enum-name":"vipTypes",size:"default",value:o.companyVipLevel},null,8,["value"])]),_:1}),e(v,{label:"浏览/来源",width:"150"},{default:l(({row:o})=>[e(U,null,{default:l(()=>[n("浏览 : "+b(o.view),1)]),_:2},1024),t[22]||(t[22]=r("br",null,null,-1)),e(U,null,{default:l(()=>[t[21]||(t[21]=n("来源 :  ")),e(T,{"enum-name":"source",value:o.appId},null,8,["value"])]),_:2},1024)]),_:1}),e(v,{label:"审核/状态",width:"140"},{default:l(({row:o})=>[e(T,{type:"button","enum-name":"auditStatus",value:o.examine},null,8,["value"]),t[23]||(t[23]=r("br",null,null,-1)),e(T,{type:"button","enum-name":"showStatus",value:o.status,onClick:x=>I(o,o.status==1?0:1)},null,8,["value","onClick"])]),_:1}),e(v,{label:"置顶/推荐",width:"220"},{default:l(({row:o})=>[e(i,{type:o.top?"danger":"success",size:"small"},{default:l(()=>t[24]||(t[24]=[n("置顶")])),_:2},1032,["type"]),e(i,{type:o.recommend?"danger":"success",size:"small"},{default:l(()=>t[25]||(t[25]=[n("推荐")])),_:2},1032,["type"]),e(i,{type:o.urgent?"danger":"success",size:"small"},{default:l(()=>t[26]||(t[26]=[n("紧急")])),_:2},1032,["type"])]),_:1}),e(v,{prop:"",label:"创建/更新/刷新时间",width:"180"},{default:l(({row:o})=>[n(b(o.createTime)+" ",1),t[27]||(t[27]=r("br",null,null,-1)),n(" "+b(o.updateTime)+" ",1),t[28]||(t[28]=r("br",null,null,-1)),n(" "+b(o.refreshTime),1)]),_:1}),e(v,{label:"操作",width:"220",align:"center"},{default:l(({row:o})=>[e(i,{onClick:()=>{},type:"success",size:"small"},{default:l(()=>t[29]||(t[29]=[n("业务")])),_:1}),e(i,{onClick:()=>{},type:"primary",size:"small"},{default:l(()=>t[30]||(t[30]=[n("编辑")])),_:1}),e(X,{trigger:"click",placement:"bottom-end",size:"small",onCommand:x=>P(x,o),style:{"margin-left":"12px",top:"1px"}},{dropdown:l(()=>[e(O,null,{default:l(()=>[(s(!0),g(V,null,k(F,x=>(s(),c(K,{key:x.id,command:x.id},{default:l(()=>[n(b(x.text),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:l(()=>[e(i,{type:"default",plain:"",size:"small"},{default:l(()=>t[31]||(t[31]=[n("更多")])),_:1})]),_:2},1032,["onCommand"])]),_:1})]),_:2},1032,["data"])),[[h,a]])]),_:1},8,["remote-method","query"])}}},me={__name:"JobList",setup(L){return(S,R)=>{const w=d("el-tab-pane"),y=d("el-tabs");return s(),c(y,{type:"border-card",class:"tabsBox"},{default:l(()=>[e(w,{label:"职位列表"},{default:l(()=>[e(re)]),_:1}),e(w,{label:"职位投诉"},{default:l(()=>[e(ae)]),_:1}),e(w,{label:"职位设置"},{default:l(()=>[e(ne)]),_:1}),e(w,{label:"职位刷新日志"},{default:l(()=>[e(oe)]),_:1})]),_:1})}}},be=te(me,[["__scopeId","data-v-b39a164a"]]);export{be as default};
